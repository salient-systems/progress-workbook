<div class="container">
  <div class="row">
	<div class="col-md-12">
	  <div class="box">
	  	<h3><img src="/assets/settings.png"> Settings</h3>
	  	  <div class="row">
	  	    <div class="col-md-8">

          <h4>Change Password</h4>
          <form name="changePasswordForm" class="form-horizontal" role="form">
            <div class="form-group" ng-class="validateCurrentPassword && {'has-error': changePasswordForm.currentPassword.$invalid}">
              <label for="currentPassword" class="col-lg-3 control-label">Current Password</label>
              <div class="col-lg-9">
                <input name="currentPassword" ng-model="currentPassword" type="password" class="form-control" id="currentPassword" ng-blur="validateCurrentPassword=true" placeholder="Current Password" required>
              </div>
            </div>
            <div class="form-group" ng-class="validateNewPassword && {'has-error': changePasswordForm.newPassword.$invalid}">
              <label for="newPassword" class="col-lg-3 control-label">New Password</label>
              <div class="col-lg-9">
                <input name="newPassword" ng-model="newPassword" type="password" class="form-control" id="newPassword" ng-blur="validateNewPassword=true" placeholder="New Password" required>
              </div>
            </div>
            <div class="form-group" ng-class="validateConfirmPassword && {'has-error': changePasswordForm.confirmPassword.$invalid}">
              <label for="confirmPassword" class="col-lg-3 control-label">Confirm Password</label>
              <div class="col-lg-9">
                <input name="confirmPassword" ng-model="confirmPassword" type="password" class="form-control" id="confirmPassword" ng-blur="validateConfirmPassword=true" placeholder="Confirm  Password" required>
              </div>
            </div>
            <div class="form-group">
              <div class="col-lg-offset-3 col-lg-9">
                <button ng-click="savePassword()" value="submit" class="btn btn-primary" ng-disabled="changePasswordForm.$invalid">Change</button>
              </div>
            </div>
          </form>
        </div>

        <div class="col-lg-offset-1 col-md-3">
          <h4>More Options</h4>
          <a data-toggle="modal" href="#importStudentsModal" class="btn btn-success btn-block">Import Students</a>
          <a data-toggle="modal" href="#addSubjectModal" class="btn btn-warning btn-block">Add Subject</a>
          <a data-toggle="modal" href="#advanceTermModal" class="btn btn-danger btn-block">Advance Term</a>
        </div>
        <p></p>
      </div>
	  </div>
	</div>
  </div>
</div>

<!-- Modal: Advance Term -->
<div class="modal fade" id="advanceTermModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" ng-click="resetTermValidation()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Advance Term</h4>
      </div>
      <div class="modal-body">

        <form name="advanceTermForm" class="form-horizontal" role="form">
          <div class="form-group" ng-class="validateTermName && {'has-error': advanceTermForm.name.$invalid}">
            <label for="inputName" class="col-lg-3 control-label">New Term</label>
            <div class="col-lg-9">
              <input name="name" ng-model="newTerm" type="text" class="form-control" id="inputName" ng-blur="validateTermName=true" placeholder="Term Name" required>
            </div>
          </div>

          <div class="bs-callout bs-callout-info">
            <h4>Tip</h4>
            <p>It is recomended that you use a consistent naming structure for the terms (e.g. "2013-2014").</p>
          </div>

          <div class="bs-callout bs-callout-danger">
            <h4>Danger: This Cannot Be Undone</h4>
            <p>Advancing the term will hide all current classes and deactivate graduating students. Any new classes which are created will be placed under the new term. This operation is only intended for use at the end of a term/semester/year and <strong>cannot be undone</strong>. Please check the box below to confirm your decision and proceed.</p>
          </div>

          <div class="form-group" ng-class="validateCheckbox && {'has-error': advanceTermForm.confirmCheckbox.$invalid}">
            <label for="inputAdmin" class="col-lg-2 control-label">Confirm</label>
            <div class="col-lg-10">
              <div class="checkbox">
                <label>
                  <input type="checkbox" ng-model="confirmCheckbox" name="confirmCheckbox" ng-blur="validateCheckbox=true" required>
                  I understand that advancing the term will deactivate graduating students and hide the current classes. This change cannot be undone.
                </label>
              </div>
            </div>
          </div>

        </form>

      </div>
      <div class="modal-footer">
        <button ng-click="resetTermValidation()" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button ng-click="saveTerm()" value="submit" class="btn btn-danger" ng-disabled="advanceTermForm.$invalid">Advance Term</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Modal: Add Subject -->
<div class="modal fade" id="addSubjectModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" ng-click="resetSubjectValidation()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Add Subject</h4>
      </div>
      <div class="modal-body">

        <form name="addSubjectForm" class="form-horizontal" role="form">
          <div class="form-group" ng-class="validateSubjectName && {'has-error': addSubjectForm.name.$invalid}">
            <label for="inputName" class="col-lg-2 control-label">Subject</label>
            <div class="col-lg-10">
              <input name="name" ng-model="newSubject" type="text" class="form-control" id="inputSubject" ng-blur="validateSubjectName=true" placeholder="Subject Name" required>
            </div>
          </div>
        </form>

        <div class="bs-callout bs-callout-warning">
          <h4>Warning</h4>
          <p>Subjects cannot be modified or deleted after they have been created, so please verify that the information is correct before proceeding.</p>
        </div>

      </div>
      <div class="modal-footer">
        <button ng-click="resetSubjectValidation()" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button ng-click="saveSubject()" value="submit" class="btn btn-warning" ng-disabled="addSubjectForm.$invalid">Create</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Modal: Add Subject -->
<div class="modal fade" id="importStudentsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" ng-click="resetImportValidation()" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Import Students</h4>
      </div>
      <div class="modal-body">

        <form name="importStudentsForm" class="form-horizontal" role="form">
          <div class="form-group">
            <br>
            <label for="importStudents" class="col-lg-2 control-label">CSV File</label>
            <div class="col-lg-9 col-lg-offset-1">
              <div class="form-group">
                <input type="file" ng-model="studentListFile" id="studentListFile" name="studentListFile" >
              </div>
            </div>

          </div>
        </form>

      </div>
      <div class="modal-footer">
        <button ng-click="resetImportValidation()" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button ng-click="importStudents()" value="submit" id="importButton" class="btn btn-success" disabled="disabled">Import</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->